<div class="container">
  <h2>Plan your vacation</h2>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="form-group">
      <label for="firstname">First Name</label>
      <input type="text" class="form-control" id="firstname" formControlName="firstname" placeholder="Enter first name">
      <div *ngIf="form.get('firstname')?.hasError('required') && form.get('firstname')?.touched" class="text-danger">
        First name is required.
      </div>
    </div>
    <div class="form-group">
      <label for="lastname">Last Name</label>
      <input type="text" class="form-control" id="lastname" formControlName="lastname" placeholder="Enter last name">
      <div *ngIf="form.get('lastname')?.hasError('required') && form.get('lastname')?.touched" class="text-danger">
        Last name is required.
      </div>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="email" class="form-control" id="email" formControlName="email" placeholder="Enter email">
      <div *ngIf="form.get('email')?.hasError('required') && form.get('email')?.touched" class="text-danger">
        Email is required.
      </div>
      <div *ngIf="form.get('email')?.hasError('email') && form.get('email')?.touched" class="text-danger">
        Enter a valid email address.
      </div>
      <div *ngIf="form.get('email')?.hasError('emailMismatch') && form.get('email')?.touched" class="text-danger">
        Email must match the logged-in email.
      </div>
    </div>
    <div class="form-group">
      <label for="persons">Number of Persons</label>
      <input type="number" class="form-control" id="persons" formControlName="persons"
        placeholder="Enter number of persons">
      <div *ngIf="form.get('persons')?.hasError('required') && form.get('persons')?.touched" class="text-danger">
        Number of persons is required.
      </div>
    </div>
    <div class="form-group">
      <label for="phone">Contact Number</label>
      <input type="tel" class="form-control" id="phone" formControlName="phone" placeholder="Enter contact number">
      <div *ngIf="form.get('phone')?.hasError('required') && form.get('phone')?.touched" class="text-danger">
        Contact number is required.
      </div>
      <div *ngIf="form.get('phone')?.hasError('pattern') && form.get('phone')?.touched" class="text-danger">
        Enter a valid contact number.
      </div>
    </div>
    <div class="form-group">
      <label for="startdate">Start Date</label>
      <input type="date" class="form-control" id="startdate" formControlName="startdate">
      <div *ngIf="form.get('startdate')?.hasError('required') && form.get('startdate')?.touched" class="text-danger">
        Start date is required.
      </div>
      <div *ngIf="form.get('startdate')?.hasError('dateinPast') && form.get('startdate')?.touched" class="text-danger">
        Start date cannot be in the past.
      </div>
    </div>
    <div class="form-group">
      <label for="enddate">End Date</label>
      <input type="date" class="form-control" id="enddate" formControlName="enddate">
      <div *ngIf="form.get('enddate')?.hasError('required') && form.get('enddate')?.touched" class="text-danger">
        End date is required.
      </div>
      <div *ngIf="form.get('enddate')?.hasError('dateinPast') && form.get('enddate')?.touched" class="text-danger">
        End date cannot be in the past.
      </div>
      <div *ngIf="form.get('enddate')?.hasError('durationTooShort') && form.get('enddate')?.touched"
        class="text-danger">
        End date must be at least {{minDuration}} days after the start date.
      </div>
      <div *ngIf="form.get('enddate')?.hasError('dateExceedmax') && form.get('enddate')?.touched" class="text-danger">
        End date cannot exceed the maximum allowed duration.
      </div>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="form.invalid">Book</button>
  </form>
  <div>
    <button class="btn" routerLink="/home"> &larr; Back</button>
  </div>
</div>
